[gd_scene load_steps=14 format=3 uid="uid://c4fe8rix7vpn5"]

[ext_resource type="Script" uid="uid://csd4ncy3jgem8" path="res://world/world.gd" id="1_4papg"]
[ext_resource type="PackedScene" uid="uid://byli3ck6gpqtc" path="res://actors/pawns/player/player.tscn" id="1_fyhu2"]
[ext_resource type="PackedScene" uid="uid://b3kkj3vijsw7s" path="res://ui/ui.tscn" id="5_dqqhb"]
[ext_resource type="PackedScene" uid="uid://c08inc3nvav0f" path="res://ui/pause_menu.tscn" id="6_b2suy"]
[ext_resource type="TileSet" uid="uid://31avaoegt2bk" path="res://world/tilesets/ground.tres" id="8_fyhu2"]
[ext_resource type="Script" uid="uid://c5t800787mhdc" path="res://world/fog_manager.gd" id="8_ysn08"]
[ext_resource type="PackedScene" uid="uid://cf7w5yb2lhl4y" path="res://world/fog.tscn" id="9_m0cxt"]
[ext_resource type="TileSet" uid="uid://dbtkbyo4n77qy" path="res://world/tilesets/walls.tres" id="9_ov2xu"]
[ext_resource type="TileSet" uid="uid://kp24hb4w12of" path="res://world/tilesets/interactables.tres" id="10_mad0u"]
[ext_resource type="TileSet" uid="uid://dal5shiydc68s" path="res://world/tilesets/resources.tres" id="10_ocfjn"]
[ext_resource type="PackedScene" uid="uid://dnpygi6xo1s0n" path="res://actors/nexus/nexus.tscn" id="11_ov2xu"]
[ext_resource type="AudioStream" uid="uid://ce32rgxtm702s" path="res://audio/audioaudio/weather/smooth_wind.mp3" id="12_mad0u"]
[ext_resource type="Script" uid="uid://bhr5uamvonway" path="res://actors/pawns/generic/debug_path.gd" id="13_ocfjn"]

[node name="World" type="Node2D" node_paths=PackedStringArray("ground_tiles", "wall_tiles", "interactable_tiles", "resource_tiles", "debug_path") groups=["world"]]
script = ExtResource("1_4papg")
ground_tiles = NodePath("Tiles/GroundTiles")
wall_tiles = NodePath("Tiles/WallTiles")
interactable_tiles = NodePath("Tiles/InteractableTiles")
resource_tiles = NodePath("Tiles/ResourceTiles")
debug_path = NodePath("DebugPath")

[node name="Player" parent="." instance=ExtResource("1_fyhu2")]

[node name="UI" parent="." node_paths=PackedStringArray("player") instance=ExtResource("5_dqqhb")]
player = NodePath("../Player")

[node name="PauseMenu" parent="." instance=ExtResource("6_b2suy")]

[node name="CanvasModulate" type="CanvasModulate" parent="."]
visible = false
position = Vector2(-1, 0)
color = Color(0.5, 0.5, 0.5, 1)

[node name="FogManager" type="Node" parent="." node_paths=PackedStringArray("world_root", "ground_layer")]
script = ExtResource("8_ysn08")
disabled = true
fog_scene = ExtResource("9_m0cxt")
world_root = NodePath("..")
ground_layer = NodePath("../Tiles/GroundTiles")
metadata/_custom_type_script = "uid://c5t800787mhdc"

[node name="Tiles" type="Node2D" parent="."]
scale = Vector2(4, 4)

[node name="GroundTiles" type="TileMapLayer" parent="Tiles"]
z_index = -1
tile_set = ExtResource("8_fyhu2")
collision_enabled = false

[node name="WallTiles" type="TileMapLayer" parent="Tiles"]
z_index = -1
tile_set = ExtResource("9_ov2xu")

[node name="InteractableTiles" type="TileMapLayer" parent="Tiles"]
tile_set = ExtResource("10_mad0u")

[node name="ResourceTiles" type="TileMapLayer" parent="Tiles"]
tile_set = ExtResource("10_ocfjn")

[node name="Nexus" parent="." groups=["nexus"] instance=ExtResource("11_ov2xu")]

[node name="Zombies" type="Node2D" parent="."]

[node name="DebugPath" type="Node2D" parent="."]
script = ExtResource("13_ocfjn")
metadata/_custom_type_script = "uid://bhr5uamvonway"

[node name="Weather" type="Node2D" parent="."]

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer" parent="Weather"]
stream = ExtResource("12_mad0u")
volume_db = -10.565
autoplay = true
bus = &"weather"
parameters/looping = true
